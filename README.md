# SpoutDXshaders
D3D11 compute shaders for DirectX 11 and DirectX 9 receivers

The applications are generated by Visual Studio 2022 and modified
to receive from a Spout sender, apply shaders and display using Windows functions
in WM_PAINT. Although the display is not the most efficient, this makes
the host application as simple as possible for example code.

The examples are receivers and can be used together with the demonstration sender
provided with the [latest Spout Release](https://github.com/leadedge/Spout2/releases).

## DirectX 11
The DirectX 11 example includes a dialog with controls for changing the image brightness,
contrast, saturation, gamma and temperature as well as options for image blur, sharpen, 
flip, mirror or swap red/green.

## DirectX 9
The DirectX 9 example demonstrates a shader copy function that enables
receiving from senders with texture formats other than BGRA.
The demonstration sender allows the texture format to be selected for testing.

## Building

The Visual Studio 2022 solution file "SpoutDXshaders.sln" contains two projects

- DirectX11
-- WinSpoutDX11
   A DirectX 11 receiver using the SpoutDX class
- DirectX9
-- WinSpoutDirectX9
   DirectX 9 receiver using the SpoutDirectX9 class
   
All files required are included for the projects in the "Source" folder. 

To set the current project, right click on the project name and "Set as  Startup Project" or
in the solution properties, select "Current Selection".

For building your own application, the following files should be used
rather than the equivalents in the main repository.

SpoutDX.h
SpoutDirectX9.cpp / SpoutDirectX9.h

There are also two shader files required for DirectX 11 and DirectX 9 repsectively -

SpoutDXshaders.hpp
SpoutDX9shaders.hpp

For DirectX 11, SpoutDXshaders.hpp is included by the application (WinSpoutDX11.h).
No further changes are required.

For DirectX 9, SpoutDX9shaders.hpp is included by SpoutDirectX9.h.

For testing, the examples can be built without shaders by editing the
relevant header file. For example in SpoutDirectX9.h :

<pre>
// Include SpoutDX9shaders.hpp if the file exists in the same folder
#if __has_include("SpoutDX9shaders.hpp")
	// #include "SpoutDX9shaders.hpp"
#endif
</pre>

After building, the "SpoutDXshaders\x64\Release" folder contains the executables.

Pre-built executables are included in the project release and can be used for initial evaluation.
